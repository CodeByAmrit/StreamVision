<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Camera Feed</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/video.js/dist/video-js.css" rel="stylesheet">
    <script src="https://unpkg.com/video.js/dist/video.js"></script>
</head>
<body class="bg-gray-900 flex justify-center items-center min-h-screen">
    <div class="w-full max-w-4xl p-6 bg-gray-800 rounded-lg shadow-lg">
        <h1 class="text-2xl text-white font-bold text-center mb-4">Live Camera Feed</h1>
        <div class="relative">
            <video id="camera-video" class="video-js vjs-default-skin w-full rounded-lg shadow-md" controls></video>
            
        </div>
    </div>

    <script>
        async function loadCamera(cameraId) {
            const response = await fetch(`/stream/${cameraId}`);
            const { streamUrl } = await response.json();

            const player = videojs("camera-video", {
                controls: true,
                autoplay: false,
                preload: 'auto'
            });
            
            player.src({ src: streamUrl, type: 'application/x-mpegURL' });

            document.getElementById("play-btn").addEventListener("click", () => player.play());
            document.getElementById("pause-btn").addEventListener("click", () => player.pause());
        }

        loadCamera(1); // Change ID as needed
    </script>
</body>
</html>
